<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css">
    <link rel="stylesheet" href="custom.css">
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  </head>
  <body>
  <section class="main-content">
    <div class="container">
      <h1 class="title">
        How Will the Stimulus Bill Impact Me?
      </h1>
      <!-- add padding -->
      <p class="subtitle" style="margin-top: 30px;">
        <i>Find out your average stimulus amount with only a few details about
          your household.</i>
      </p>
      <p class="block">
        <strong>By: Livia Mucciolo</strong>
      </p>
      <!-- add horizontal line to separate bulk of page -->
      <hr>
      <p class="block">
        By providing the following information about your household, we can
        roughly estimate the amount of money you can expect to
        receive from the March 2021 stimulus bill. These estimates are not
        guaranteed and are based on the tax provisions in the bill. The 
        actual amount recevied may vary. The calculations have been graciously
        provided by the Tax Policy Center at the Urban Institute. For more 
        information on them, please visit their 
        <a href="https://taxpolicycenter.org/taxvox/tpc-releases-new-distributional-analysis-pandemic-relief-bill">website</a>. 
      </p>
      <br>
      <label class="label">What is your total household income?</label>
      <div class="field has-addons" id="income">
        <div class="control">
            <div class="select dropdown-width">
                <div class="select is-fullwidth">
                <select id="incomeSelect" name="household income" required>
                    <option value="">Select one</option>
                    <option value="lt30k">Less than 30k</option>
                    <option value="30k-50k">30k-50k</option>
                    <option value="50k-100k">50k-100k</option>
                    <option value="100k-200k">100k-200k</option>
                    <option value="200k-500k">200k-500k</option>
                    <option value="500k">More than 500k</option>
                </select>
                </div>
            </div>
            </div> 
      </div>
      <br>
      <label class="label">What is your filing status?</label>
      <div class="field has-addons" id="filing_status">
        <div class="control">
            <div class="select dropdown-width" required>
                <div class="select is-fullwidth">
                <select id="filingStatusSelect" name="filing status" required>
                    <option value="">Select one</option>
                    <option value="s">Single</option>
                    <option value="s">Head of Household</option>
                    <option value="s">Married Filing Separately</option>
                    <option value="m">Married Filing Jointly</option>
                </select>
                </div>
            </div>
        </div>
        </div>
      <br>
      <label class="label">How many children or dependents do you have?</label>
      <div class="field has-addons" id="filing_status">
        <div class="control">
            <div class="select dropdown-width">
                <div class="select is-fullwidth">
                <select id="childrenSelect" name="children" required>
                    <option value="">Select one</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3 or more</option>
                </select>
                </div>
            </div>
        </div>
        </div>
        <br>
        <div class="control">
          <button type="button" class="button is-primary" onclick="updateResults()">Update Results</button>
        </div>
        <br>
        <br>
        <h1 class="title">
            How Will I Fare Compared to Other Households?
        </h1>
        <p class="block">
            Your household group is highlighted in blue in the figure below. 
            Toggle over other circles to see other households' average aid or change in 
            after-tax income from the stimulus bill. Circles are proportional to
            the number of households in each income group in the United States.
            You can also change the filing status of the plot to see how your 
            household would fare under different a different filing status.

        </p>
        <div id="legend"></div>
        <div class="field is-grouped">
            <div id="plotButton">
                <button class="button is-light" onclick="showAverageAid()">Average Aid to Households</button>
                <button class="button is-light" onclick="showPercentChange()">Percent Change in After-Tax Income</button>
            </div>
        </div>

          <!-- placeholder for SVG -->
        <div id="bubblePlot"></div>
        <!--Button to change filing status of plot from default -->
          <div id="statusChangeButton">
          </div>
        </div>
    </div>
  </section>
  <!-- fixed container on the right -->
  <section class="fixed-right">
    <div class="container">
      <h1 class="title">
        Your Results
      </h1>
      <div id="resultsContainer">
        <!-- content will be dynamically updated here -->
        <div class="box">
        <!-- Default content before any buttons are clicked -->
        <p class="subtitle">
          Please select your household income, filing status, and number of 
          children to see your estimates and resulting figure.
        </p>  
      </div>
      </div>
    </div>
  </section>
  <script src="main.js"></script>
  </body>
</html>