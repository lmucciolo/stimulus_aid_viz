<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css">
    <style>
      .fixed-right {
        position: fixed;
        top: 100px;
        right: 0;
        width: 40%;
        height: 50%;
        overflow-y: auto; /* Add scroll if content overflows */
        padding: 20px;
        padding-top: 20px; 
        background-color: #f5f5f5;
      }
      .main-content {
        width: 55%; 
        margin-right: 45%; /* Leave space for the fixed container */
        padding-top: 20px; 
        padding-left: 20px; 
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  </head>
  <body>
  <section class="main-content">
    <div class="container">
      <h1 class="title">
        How Will the Stimulus Bill Impact Me?
      </h1>
      <br>
      <p class="subtitle">
        Find out your average stimulus amount with only a few details about
        your household.
      </p>
      <p class="block">
        By providing the following information about your household, we can
        roughly estimate the amount of money you can expect to
        receive from the March 2021 stimulus bill. These estimates are not
        guaranteed and are based on the information provided in the bill. The 
        actual amount recevied may vary. The calculations have been graciously
        provided by the Tax Policy Center at the Urban Institute. For more 
        information on them, please visit their 
        <a href="https://taxpolicycenter.org/taxvox/tpc-releases-new-distributional-analysis-pandemic-relief-bill">website</a>. 
      </p>
      <br>
      <label class="label">What is your total household income?</label>
      <div class="field has-addons" id="income">
        <div class="control">
            <div class="select">
                <div class="select is-fullwidth">
                <select name="household income">
                    <option value="Select one">Select one</option>
                    <option value="Less than 30k">Less than 30k</option>
                    <option value="30k-50k">30k-50k</option>
                    <option value="50k-100k">50k-100k</option>
                    <option value="100k-200k">100k-200k</option>
                    <option value="200k-500k">200k-500k</option>
                    <option value="More than 500k">More than 500k</option>
                </select>
                </div>
            </div>
            </div>
            <div class="control">
                <button type="submit" class="button is-primary">Choose</button>
            </div>  
      </div>
      <br>
      <label class="label">What is your filing status?</label>
      <div class="field has-addons" id="filing_status">
        <div class="control">
            <div class="select">
                <div class="select is-fullwidth">
                <select name="filing status">
                    <option value="Select one">Select one</option>
                    <option value="Single">Single</option>
                    <option value="Head of Household">Head of Household</option>
                    <option value="Married Filing Separately">Married Filing Separately</option>
                    <option value="Married Filing Jointly">Married Filing Jointly</option>
                </select>
                </div>
            </div>
        </div>
        <div class="control">
                <button type="submit" class="button is-primary">Choose</button>
            </div>
        </div>
      <br>
      <label class="label">How many children or dependents do you have?</label>
      <div class="field has-addons" id="filing_status">
        <div class="control">
            <div class="select">
                <div class="select is-fullwidth">
                <select name="filing status">
                    <option value="Select one">Select one</option>
                    <option value="Single">0</option>
                    <option value="Head of Household">1</option>
                    <option value="Married Filing Separately">2</option>
                    <option value="Married Filing Jointly">3 or more</option>
                </select>
                </div>
            </div>
        </div>
        <div class="control">
                <button type="submit" class="button is-primary">Choose</button>
            </div>
        </div>
        <br>
        <br>
        <br>
        <h1 class="title">
            How Will I Fare Compared to Other Households?
        </h1>
        <p class="block">
            Your household group is highlighted in the figure below. 
            Toggle over other groups to see their average aid or change in 
            after-tax income from the stimulus bill. Circles are proportional to
            the number of households in each income group.
        </p>
        <div class="field is-grouped">
            <div id="plotButton">
                <button class="button is-light" onclick="showAverageAid()">Average Aid to Households</button>
                <button class="button is-light" onclick="showPercentChange()">Percent Change in After-Tax Income</button>
            </div>
        </div>

          <!-- placeholder for SVG -->
        <div id="bubblePlot"></div>
    </div>
  </section>
  <!-- Fixed container on the right -->
  <section class="fixed-right">
    <div class="container">
      <h1 class="title">
        Your Results
      </h1>
      <div class="box">
        <p class="subtitle">
            Your household will see an average aid of <strong>$1,400</strong>
            from the stimulus bill.
        </p>  
      </div>
      <br>
      <div class="box">
        <p class="subtitle">
            Households like yours will see a <strong>10%</strong> change in 
            after-tax income.
        </p>  
      </div>
      <br>
      <p class="block">
        These amounts are estimates and are based on the information you provided.
        The actual amount you receive may vary. For more information on the 
        stimulus bill and how it may affect you, please visit the 
        <a href= "https://www.irs.gov/coronavirus/economic-impact-payments">IRS website</a>.
      </p>
    </div>
  </section>
  <script src="bubbleplot.js"></script>
  </body>
</html>